{"ast":null,"code":"import _slicedToArray from\"D:\\\\Project\\\\Picture Gallery\\\\Frontend\\\\picgallery\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link,useHistory,useParams}from\"react-router-dom\";import M from\"materialize-css\";function ChangePassword(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var History=useHistory(\"\");var _useParams=useParams(),token=_useParams.token;console.log(token);var PostLogin=function PostLogin(){fetch('http://localhost:1000/new-password',{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({password:password,token:token})}).then(function(res){return res.json();}).then(function(data){console.log(data);if(data.err){M.toast({html:data.err,classes:\"#f44336 red\"});}else{M.toast({html:data.message,classes:\"#00bfa5 teal accent-4\"});History.push('/login');}}).catch(function(err){console.log(err);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"login-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card auth-card\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();PostLogin();}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",{style:{textAlign:\"center\"}},\"Type New Password\"),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",placeholder:\"Enter New Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn waves-effect waves-light\",type:\"submit\"},\"Change Password\")))));}export default ChangePassword;","map":{"version":3,"sources":["D:/Project/Picture Gallery/Frontend/picgallery/src/Component/Pages/newPassword.js"],"names":["React","useState","Link","useHistory","useParams","M","ChangePassword","password","setPassword","History","token","console","log","PostLogin","fetch","method","headers","body","JSON","stringify","then","res","json","data","err","toast","html","classes","message","push","catch","e","preventDefault","textAlign","target","value"],"mappings":"8KAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAAQC,IAAR,CAAcC,UAAd,CAA0BC,SAA1B,KAA0C,kBAA1C,CACA,MAAOC,CAAAA,CAAP,KAAc,iBAAd,CAEA,QAASC,CAAAA,cAAT,EAA0B,eACUL,QAAQ,CAAC,EAAD,CADlB,wCACfM,QADe,eACLC,WADK,eAEtB,GAAMC,CAAAA,OAAO,CAAGN,UAAU,CAAC,EAAD,CAA1B,CAFsB,eAGNC,SAAS,EAHH,CAGfM,KAHe,YAGfA,KAHe,CAItBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACA,GAAMG,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpBC,KAAK,CAAC,oCAAD,CAAsC,CACvCC,MAAM,CAAC,MADgC,CAEvCC,OAAO,CAAC,CACJ,eAAe,kBADX,CAF+B,CAKvCC,IAAI,CAACC,IAAI,CAACC,SAAL,CAAe,CAChBZ,QAAQ,CAARA,QADgB,CAEhBG,KAAK,CAALA,KAFgB,CAAf,CALkC,CAAtC,CAAL,CASGU,IATH,CASQ,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EATX,EAUCF,IAVD,CAUM,SAAAG,IAAI,CAAG,CACTZ,OAAO,CAACC,GAAR,CAAYW,IAAZ,EACA,GAAIA,IAAI,CAACC,GAAT,CAAa,CACTnB,CAAC,CAACoB,KAAF,CAAQ,CAACC,IAAI,CAAEH,IAAI,CAACC,GAAZ,CAAiBG,OAAO,CAAC,aAAzB,CAAR,EACH,CAFD,IAEK,CACDtB,CAAC,CAACoB,KAAF,CAAQ,CAACC,IAAI,CAAEH,IAAI,CAACK,OAAZ,CAAqBD,OAAO,CAAC,uBAA7B,CAAR,EACAlB,OAAO,CAACoB,IAAR,CAAa,QAAb,EACH,CACJ,CAlBD,EAkBGC,KAlBH,CAkBS,SAAAN,GAAG,CAAI,CACZb,OAAO,CAACC,GAAR,CAAYY,GAAZ,EACH,CApBD,EAqBH,CAtBD,CAuBA,mBACI,2BAAK,SAAS,CAAC,YAAf,eACI,2BAAK,SAAS,CAAC,gBAAf,eACI,4BAAM,QAAQ,CAAE,kBAACO,CAAD,CAAK,CAACA,CAAC,CAACC,cAAF,GAAmBnB,SAAS,GAAG,CAArD,eACI,4CACI,0BAAI,KAAK,CAAE,CAACoB,SAAS,CAAC,QAAX,CAAX,sBADJ,cAEI,6BAAO,OAAO,CAAC,UAAf,cAFJ,cAGI,6BAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,oBAAnC,CAAwD,KAAK,CAAE1B,QAA/D,CAAyE,QAAQ,CAAE,kBAACwB,CAAD,QAAKvB,CAAAA,WAAW,CAACuB,CAAC,CAACG,MAAF,CAASC,KAAV,CAAhB,EAAnF,EAHJ,cAII,8BAAQ,SAAS,CAAC,8BAAlB,CAAiD,IAAI,CAAC,QAAtD,oBAJJ,CADJ,CADJ,CADJ,CADJ,CAcH,CAED,cAAe7B,CAAAA,cAAf","sourcesContent":["import React, {useState} from 'react'\r\nimport {Link, useHistory, useParams} from \"react-router-dom\"\r\nimport M from \"materialize-css\"\r\n\r\nfunction ChangePassword() { \r\n    const [password, setPassword] = useState('')\r\n    const History = useHistory(\"\")\r\n    const {token} = useParams()\r\n    console.log(token)\r\n    const PostLogin = () => {\r\n        fetch('http://localhost:1000/new-password',{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                password,\r\n                token\r\n            })\r\n        }).then(res => res.json())\r\n        .then(data =>{\r\n            console.log(data)\r\n            if (data.err){\r\n                M.toast({html: data.err, classes:\"#f44336 red\"})\r\n            }else{\r\n                M.toast({html: data.message, classes:\"#00bfa5 teal accent-4\"})\r\n                History.push('/login')\r\n            }\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"login-card\">\r\n            <div className=\"card auth-card\">\r\n                <form onSubmit={(e)=>{e.preventDefault();PostLogin()}}>\r\n                    <div>\r\n                        <h1 style={{textAlign:\"center\"}}>Type New Password</h1> \r\n                        <label htmlFor='password'>Password:</label>\r\n                        <input type='password' placeholder='Enter New Password' value={password} onChange={(e)=>setPassword(e.target.value)} />\r\n                        <button className=\"btn waves-effect waves-light\" type=\"submit\">Change Password</button>\r\n                    </div>                    \r\n                </form>   \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChangePassword\r\n"]},"metadata":{},"sourceType":"module"}