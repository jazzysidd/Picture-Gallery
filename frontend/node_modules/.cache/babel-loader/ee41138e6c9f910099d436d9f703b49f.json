{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\Picture Gallery\\\\frontend\\\\src\\\\Component\\\\Pages\\\\SignUp.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport M from \"materialize-css\";\n\nfunction SignUp() {\n  const [name, setName] = useState('');\n  const [password, setPassword] = useState('');\n  const [repassword, setRePassword] = useState('');\n  const [email, setEmail] = useState('');\n  const [image, setImage] = useState(\"\");\n  const [url, setUrl] = useState(undefined);\n  const history = useHistory();\n  useEffect(() => {\n    if (url) {\n      uploadFields();\n    }\n  }, [url]);\n\n  const uploadPic = () => {\n    console.log(image);\n    const data = new FormData();\n    data.append(\"file\", image);\n    data.append(\"upload_preset\", \"Picture gallery\");\n    data.append(\"cloud_name\", \"siddtechbadal\");\n    fetch(\"https://api.cloudinary.com/v1_1/siddtechbadal/image/upload\", {\n      method: \"post\",\n      body: data\n    }).then(res => res.json()).then(data => {\n      setUrl(data.url);\n      console.log(data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const uploadFields = () => {\n    fetch(\"http://localhost:1000/signup\", {\n      method: 'post',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name,\n        password,\n        email,\n        pic: url\n      })\n    }).then(res => res.json()).then(data => {\n      if (data.error) {\n        M.toast({\n          html: data.error,\n          classes: \"#f44336 red\"\n        });\n      } else {\n        M.toast({\n          html: data.message,\n          classes: \"#00bfa5 teal accent-4\"\n        });\n        history.push('/login');\n      }\n\n      console.log(data);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const PostData = () => {\n    if (image) {\n      uploadPic();\n    } else {\n      uploadFields();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card auth-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      PostData();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }, \"Sign-Up\"), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }, \"Full-Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Name\",\n    value: name,\n    onChange: e => setName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }, \"E-mail:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, \"Password:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"re-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  }, \"ReType-Password:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    value: repassword,\n    onChange: e => setRePassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn waves-effect waves-light\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 25\n    }\n  }, \"Log-In\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 43\n    }\n  }, \"Already have a account??\"))))));\n}\n\nexport default SignUp;","map":{"version":3,"sources":["D:/Project/Picture Gallery/frontend/src/Component/Pages/SignUp.js"],"names":["React","useState","useEffect","Link","useHistory","M","SignUp","name","setName","password","setPassword","repassword","setRePassword","email","setEmail","image","setImage","url","setUrl","undefined","history","uploadFields","uploadPic","console","log","data","FormData","append","fetch","method","body","then","res","json","catch","err","headers","JSON","stringify","pic","error","toast","html","classes","message","push","PostData","e","preventDefault","textAlign","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport M from \"materialize-css\"\r\n\r\n\r\nfunction SignUp() {\r\n    const [name, setName] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [repassword, setRePassword] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [image, setImage] = useState(\"\") \r\n    const [url, setUrl] = useState(undefined) \r\n    const history = useHistory()\r\n\r\n    useEffect(()=>{\r\n        if (url){\r\n            uploadFields()\r\n        }\r\n    },[url])\r\n\r\n    const uploadPic = () =>{\r\n        console.log(image)\r\n        const data = new FormData()\r\n        data.append(\"file\", image)\r\n        data.append(\"upload_preset\", \"Picture gallery\")\r\n        data.append(\"cloud_name\", \"siddtechbadal\")\r\n        fetch(\"https://api.cloudinary.com/v1_1/siddtechbadal/image/upload\",{\r\n            method:\"post\",\r\n            body:data\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            setUrl(data.url)\r\n            console.log(data)\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n     }\r\n\r\n     const uploadFields = () =>{\r\n        fetch(\"http://localhost:1000/signup\", {\r\n            method:'post',\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                name,\r\n                password,\r\n                email,\r\n                pic:url\r\n            })\r\n        }).then(res => res.json())\r\n        .then(data =>{\r\n            if(data.error){\r\n                M.toast({html: data.error, classes:\"#f44336 red\"})\r\n            }else{\r\n                M.toast({html: data.message, classes:\"#00bfa5 teal accent-4\"})\r\n                history.push('/login')\r\n            }\r\n            console.log(data)\r\n        }).catch(error=>{\r\n            console.log(error)\r\n        })\r\n\r\n     }\r\n\r\n    const PostData = () =>{\r\n        if (image){\r\n            uploadPic()\r\n        }else{\r\n            uploadFields()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-card\">\r\n            <div className=\"card auth-card\">\r\n                <form onSubmit={(e)=>{e.preventDefault();PostData()}}>\r\n                    <div>\r\n                        <h1 style={{textAlign:\"center\"}}>Sign-Up</h1>\r\n                        <label htmlFor=\"name\">Full-Name</label>\r\n                        <input type=\"text\" placeholder=\"Name\" value={name} onChange={(e)=>setName(e.target.value)} />\r\n                        <label htmlFor='email'>E-mail:</label>\r\n                        <input type='email' placeholder='Email' value={email} onChange={(e)=>setEmail(e.target.value)} />\r\n                        <label htmlFor='password'>Password:</label>\r\n                        <input type='password' placeholder='Password' value={password} onChange={(e)=>setPassword(e.target.value)} />\r\n                        <label htmlFor='re-password'>ReType-Password:</label>\r\n                        <input type='password' placeholder='Password' value={repassword} onChange={(e)=>setRePassword(e.target.value)} />\r\n                        {/* <div className=\"file-field input-field\">\r\n                            <div className=\"btn\">\r\n                                <span>Select Picture</span>\r\n                                <input type=\"file\"  onChange={(e)=>{setImage(e.target.files[0])}} />\r\n                            </div>\r\n                            <div className=\"file-path-wrapper\">\r\n                                <input className=\"file-path validate\" type=\"text\" />\r\n                            </div>\r\n                        </div> */}\r\n                        <button className=\"btn waves-effect waves-light\" type=\"submit\">Log-In</button>\r\n                    </div>\r\n                    <div>    \r\n                        <Link to=\"/login\"><h6>Already have a account??</h6></Link>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignUp"]},"metadata":{},"sourceType":"module"}