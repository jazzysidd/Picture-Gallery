{"ast":null,"code":"import _slicedToArray from\"D:\\\\Project\\\\Picture Gallery\\\\Frontend\\\\picgallery\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link,useHistory}from'react-router-dom';import M from\"materialize-css\";function SignUp(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),repassword=_useState6[0],setRePassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),image=_useState10[0],setImage=_useState10[1];var _useState11=useState(undefined),_useState12=_slicedToArray(_useState11,2),url=_useState12[0],setUrl=_useState12[1];var history=useHistory();useEffect(function(){if(url){uploadFields();}},[url]);var uploadPic=function uploadPic(){console.log(image);var data=new FormData();data.append(\"file\",image);data.append(\"upload_preset\",\"Picture gallery\");data.append(\"cloud_name\",\"siddtechbadal\");fetch(\"https://api.cloudinary.com/v1_1/siddtechbadal/image/upload\",{method:\"post\",body:data}).then(function(res){return res.json();}).then(function(data){setUrl(data.url);console.log(data);}).catch(function(err){console.log(err);});};var uploadFields=function uploadFields(){fetch(\"http://localhost:1000/signup\",{method:'post',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:name,password:password,email:email,pic:url})}).then(function(res){return res.json();}).then(function(data){if(data.error){M.toast({html:data.error,classes:\"#f44336 red\"});}else{M.toast({html:data.message,classes:\"#00bfa5 teal accent-4\"});history.push('/login');}console.log(data);}).catch(function(error){console.log(error);});};var PostData=function PostData(){if(image){uploadPic();}else{uploadFields();}};return/*#__PURE__*/React.createElement(\"div\",{className:\"login-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card auth-card\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();PostData();}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",{style:{textAlign:\"center\"}},\"Sign-Up\"),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Full-Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Name\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"E-mail:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"re-password\"},\"ReType-Password:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",placeholder:\"Password\",value:repassword,onChange:function onChange(e){return setRePassword(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn waves-effect waves-light\",type:\"submit\"},\"Log-In\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Link,{to:\"/login\"},/*#__PURE__*/React.createElement(\"h6\",null,\"Already have a account??\"))))));}export default SignUp;","map":{"version":3,"sources":["D:/Project/Picture Gallery/Frontend/picgallery/src/Component/Pages/SignUp.js"],"names":["React","useState","useEffect","Link","useHistory","M","SignUp","name","setName","password","setPassword","repassword","setRePassword","email","setEmail","image","setImage","undefined","url","setUrl","history","uploadFields","uploadPic","console","log","data","FormData","append","fetch","method","body","then","res","json","catch","err","headers","JSON","stringify","pic","error","toast","html","classes","message","push","PostData","e","preventDefault","textAlign","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport M from \"materialize-css\"\r\n\r\n\r\nfunction SignUp() {\r\n    const [name, setName] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [repassword, setRePassword] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [image, setImage] = useState(\"\") \r\n    const [url, setUrl] = useState(undefined) \r\n    const history = useHistory()\r\n\r\n    useEffect(()=>{\r\n        if (url){\r\n            uploadFields()\r\n        }\r\n    },[url])\r\n\r\n    const uploadPic = () =>{\r\n        console.log(image)\r\n        const data = new FormData()\r\n        data.append(\"file\", image)\r\n        data.append(\"upload_preset\", \"Picture gallery\")\r\n        data.append(\"cloud_name\", \"siddtechbadal\")\r\n        fetch(\"https://api.cloudinary.com/v1_1/siddtechbadal/image/upload\",{\r\n            method:\"post\",\r\n            body:data\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            setUrl(data.url)\r\n            console.log(data)\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n     }\r\n\r\n     const uploadFields = () =>{\r\n        fetch(\"http://localhost:1000/signup\", {\r\n            method:'post',\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                name,\r\n                password,\r\n                email,\r\n                pic:url\r\n            })\r\n        }).then(res => res.json())\r\n        .then(data =>{\r\n            if(data.error){\r\n                M.toast({html: data.error, classes:\"#f44336 red\"})\r\n            }else{\r\n                M.toast({html: data.message, classes:\"#00bfa5 teal accent-4\"})\r\n                history.push('/login')\r\n            }\r\n            console.log(data)\r\n        }).catch(error=>{\r\n            console.log(error)\r\n        })\r\n\r\n     }\r\n\r\n    const PostData = () =>{\r\n        if (image){\r\n            uploadPic()\r\n        }else{\r\n            uploadFields()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-card\">\r\n            <div className=\"card auth-card\">\r\n                <form onSubmit={(e)=>{e.preventDefault();PostData()}}>\r\n                    <div>\r\n                        <h1 style={{textAlign:\"center\"}}>Sign-Up</h1>\r\n                        <label htmlFor=\"name\">Full-Name</label>\r\n                        <input type=\"text\" placeholder=\"Name\" value={name} onChange={(e)=>setName(e.target.value)} />\r\n                        <label htmlFor='email'>E-mail:</label>\r\n                        <input type='email' placeholder='Email' value={email} onChange={(e)=>setEmail(e.target.value)} />\r\n                        <label htmlFor='password'>Password:</label>\r\n                        <input type='password' placeholder='Password' value={password} onChange={(e)=>setPassword(e.target.value)} />\r\n                        <label htmlFor='re-password'>ReType-Password:</label>\r\n                        <input type='password' placeholder='Password' value={repassword} onChange={(e)=>setRePassword(e.target.value)} />\r\n                        {/* <div className=\"file-field input-field\">\r\n                            <div className=\"btn\">\r\n                                <span>Select Picture</span>\r\n                                <input type=\"file\"  onChange={(e)=>{setImage(e.target.files[0])}} />\r\n                            </div>\r\n                            <div className=\"file-path-wrapper\">\r\n                                <input className=\"file-path validate\" type=\"text\" />\r\n                            </div>\r\n                        </div> */}\r\n                        <button className=\"btn waves-effect waves-light\" type=\"submit\">Log-In</button>\r\n                    </div>\r\n                    <div>    \r\n                        <Link to=\"/login\"><h6>Already have a account??</h6></Link>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignUp"]},"metadata":{},"sourceType":"module"}