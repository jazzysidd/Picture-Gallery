{"ast":null,"code":"import _slicedToArray from\"D:\\\\Project\\\\Picture Gallery\\\\Frontend\\\\picgallery\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{Link,useHistory}from\"react-router-dom\";import M from\"materialize-css\";import{UserContext}from'../../App';function Login(){var _useContext=useContext(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var History=useHistory(\"\");var PostLogin=function PostLogin(){fetch('http://localhost:1000/signin',{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})}).then(function(res){return res.json();}).then(function(data){console.log(data);if(data.err){M.toast({html:data.err,classes:\"#f44336 red\"});}else{localStorage.setItem('jwt',data.token);localStorage.setItem('user',JSON.stringify(data.user));dispatch({type:\"USER\",payload:data.user});M.toast({html:\"Signed-In\",classes:\"#00bfa5 teal accent-4\"});History.push('/');}}).catch(function(err){console.log(err);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"login-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card auth-card\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();PostLogin();}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",{style:{textAlign:\"center\"}},\"Log-In\"),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"E-mail:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn waves-effect waves-light\",type:\"submit\"},\"Log-In\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h6\",null,/*#__PURE__*/React.createElement(Link,{to:\"/signup\"},\"Don't have a account?\"))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(Link,{to:\"/reset-password\"},\"Forgot Password?\"))))));}export default Login;","map":{"version":3,"sources":["D:/Project/Picture Gallery/Frontend/picgallery/src/Component/Pages/Login.js"],"names":["React","useState","useContext","Link","useHistory","M","UserContext","Login","state","dispatch","email","setEmail","password","setPassword","History","PostLogin","fetch","method","headers","body","JSON","stringify","then","res","json","data","console","log","err","toast","html","classes","localStorage","setItem","token","user","type","payload","push","catch","e","preventDefault","textAlign","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useContext} from 'react'\r\nimport {Link, useHistory} from \"react-router-dom\"\r\nimport M from \"materialize-css\"\r\nimport {UserContext} from '../../App'\r\n\r\nfunction Login() {\r\n    const {state,dispatch} = useContext(UserContext)\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const History = useHistory(\"\")\r\n    \r\n    const PostLogin = () => {\r\n        fetch('http://localhost:1000/signin',{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                email,\r\n                password\r\n            })\r\n        }).then(res => res.json())\r\n        .then(data =>{\r\n            console.log(data)\r\n            if (data.err){\r\n                M.toast({html: data.err, classes:\"#f44336 red\"})\r\n            }else{\r\n                localStorage.setItem('jwt',data.token)\r\n                localStorage.setItem('user',JSON.stringify(data.user))\r\n                dispatch({type:\"USER\", payload:data.user})\r\n                M.toast({html: \"Signed-In\", classes:\"#00bfa5 teal accent-4\"})\r\n                History.push('/')\r\n            }\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"login-card\">\r\n            <div className=\"card auth-card\">\r\n                <form onSubmit={(e)=>{e.preventDefault();PostLogin()}}>\r\n                    <div>\r\n                        <h1 style={{textAlign:\"center\"}}>Log-In</h1>\r\n                        <label htmlFor='email'>E-mail:</label>\r\n                        <input type='email' placeholder='Email' value={email} onChange={(e)=>setEmail(e.target.value)} /> \r\n                        <label htmlFor='password'>Password:</label>\r\n                        <input type='password' placeholder='Password' value={password} onChange={(e)=>setPassword(e.target.value)} />\r\n                        <button className=\"btn waves-effect waves-light\" type=\"submit\">Log-In</button>\r\n                    </div>\r\n                    <div>\r\n                        <h6><Link to=\"/signup\">Don't have a account?</Link></h6>\r\n                    </div>                    \r\n                    <div>\r\n                        <p><Link to=\"/reset-password\">Forgot Password?</Link></p>\r\n                    </div>                    \r\n                </form>   \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}