{"ast":null,"code":"import _slicedToArray from\"D:\\\\Project\\\\Picture Gallery\\\\Frontend\\\\picgallery\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,createContext,useReducer,useContext}from'react';import'./App.css';import Navbar from'./Component/Layout/Navbar';import{BrowserRouter,Route,Switch,useHistory}from'react-router-dom';import Home from'./Component/Pages/Home';import Login from'./Component/Pages/Login';import SignUp from'./Component/Pages/SignUp';import Myprofile from'./Component/Pages/myprofile';import CreatePost from'./Component/Pages/CreatePost';import{intialState,reducer}from'./Redux/userReducer';import UserProfile from'./Component/Pages/userPrfile';import Subscriber from'./Component/Pages/subscriberPost';import Reset from'./Component/Pages/reset';import ChangePassword from'./Component/Pages/newPassword';export var UserContext=createContext();var Routing=function Routing(){var history=useHistory();var _useContext=useContext(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;useEffect(function(){var user=JSON.parse(localStorage.getItem('user'));if(user){dispatch({type:\"USER\",payload:user});// history.push(\"/\")\n}else{if(!history.location.pathname.startsWith('/reset'))history.push(\"/login\");}},[]);return/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/\",exact:true},/*#__PURE__*/React.createElement(Home,null)),/*#__PURE__*/React.createElement(Route,{path:\"/login\"},/*#__PURE__*/React.createElement(Login,null)),/*#__PURE__*/React.createElement(Route,{path:\"/signup\"},/*#__PURE__*/React.createElement(SignUp,null)),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/myfeed\"},/*#__PURE__*/React.createElement(Myprofile,null)),/*#__PURE__*/React.createElement(Route,{path:\"/createpost\"},/*#__PURE__*/React.createElement(CreatePost,null)),/*#__PURE__*/React.createElement(Route,{path:\"/profile/:userid\"},/*#__PURE__*/React.createElement(UserProfile,null)),/*#__PURE__*/React.createElement(Route,{path:\"/followersPage\"},/*#__PURE__*/React.createElement(Subscriber,null)),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/reset-password\"},/*#__PURE__*/React.createElement(Reset,null)),/*#__PURE__*/React.createElement(Route,{path:\"/reset-password/:token\"},/*#__PURE__*/React.createElement(ChangePassword,null)));};function App(){var _useReducer=useReducer(reducer,intialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(UserContext.Provider,{value:{state:state,dispatch:dispatch}},/*#__PURE__*/React.createElement(BrowserRouter,null,/*#__PURE__*/React.createElement(Navbar,null),/*#__PURE__*/React.createElement(Routing,null))));}export default App;","map":{"version":3,"sources":["D:/Project/Picture Gallery/Frontend/picgallery/src/App.js"],"names":["React","useEffect","createContext","useReducer","useContext","Navbar","BrowserRouter","Route","Switch","useHistory","Home","Login","SignUp","Myprofile","CreatePost","intialState","reducer","UserProfile","Subscriber","Reset","ChangePassword","UserContext","Routing","history","state","dispatch","user","JSON","parse","localStorage","getItem","type","payload","location","pathname","startsWith","push","App"],"mappings":"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","sourcesContent":["import React,{useEffect, createContext, useReducer, useContext} from 'react';\nimport './App.css';\nimport Navbar from './Component/Layout/Navbar';\nimport {BrowserRouter, Route, Switch, useHistory} from 'react-router-dom'\nimport Home from './Component/Pages/Home';\nimport Login from './Component/Pages/Login';\nimport SignUp from './Component/Pages/SignUp';\nimport Myprofile from './Component/Pages/myprofile';\nimport CreatePost from './Component/Pages/CreatePost';\nimport {intialState, reducer} from './Redux/userReducer'\nimport UserProfile from './Component/Pages/userPrfile';\nimport Subscriber from './Component/Pages/subscriberPost';\nimport Reset from './Component/Pages/reset';\nimport ChangePassword from './Component/Pages/newPassword';\n\nexport const UserContext = createContext()\n\nconst Routing = () => {\n  const history = useHistory()\n  const {state,dispatch}= useContext(UserContext)\n  useEffect(()=>{\n    const user = JSON.parse(localStorage.getItem('user')) \n    if (user){\n      dispatch({type:\"USER\", payload:user})\n      // history.push(\"/\")\n    }else{\n      if(!history.location.pathname.startsWith('/reset'))\n      history.push(\"/login\")\n    }\n  },[])\n    return(\n      <Switch>\n        <Route path=\"/\" exact>\n          <Home/>\n        </Route>\n        <Route path=\"/login\">\n          <Login/>\n        </Route>\n        <Route path=\"/signup\">\n          <SignUp/>\n        </Route>\n        <Route exact path=\"/myfeed\">\n          <Myprofile/>\n        </Route>\n        <Route path=\"/createpost\">\n          <CreatePost/>\n        </Route>\n        <Route path=\"/profile/:userid\">\n          <UserProfile/>\n        </Route>\n        <Route path=\"/followersPage\">\n          <Subscriber/>\n        </Route>\n        <Route exact path=\"/reset-password\">\n          < Reset/>\n        </Route>\n        <Route path=\"/reset-password/:token\">\n          < ChangePassword/>\n        </Route>\n      </Switch>\n    )\n}\nfunction App() {\n  const [state, dispatch] = useReducer(reducer,intialState)\n  return (\n    <div className=\"App\">\n      <UserContext.Provider value={{state, dispatch}}>\n      <BrowserRouter>\n        <Navbar />\n        <Routing/>\n      </BrowserRouter>\n      </UserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}